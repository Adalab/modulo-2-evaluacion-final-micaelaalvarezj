console.log(">> Ready? Yes, Ready :)");let r=[],o=[];const u=()=>{fetch("https://fakestoreapi.com/products").then(t=>t.json()).then(t=>{console.log(t),r=t,a()})};document.querySelector(".products_list").classList.add("js-products");const n=document.querySelector(".js-products");document.querySelector(".shopping_bag_list").classList.add("js-shopping_bag");const i=document.querySelector(".js-shopping_bag"),p=t=>{let s="";return s+='<div class="card">',s+=`<img src="${t.image}" class="card_img" alt="Producto: ${t.title}">`,s+=`<h3 class="card__title">${t.title}</h3>`,s+=`<p class="card__description">${t.description}</p>`,s+=`<p class="card__price">${t.price}</p>`,s+=`<button class="js-add-products" data-id="${t.id}">Comprar</button>`,s+="</div>",s},a=()=>{let t="";for(const s of r)t+=p(s);n.innerHTML=t,f()};u();const g=document.querySelector(".js_button-search"),_=document.querySelector(".js_in_search"),h=t=>{t.preventDefault();const s=_.value.toLowerCase(),e=r.filter(c=>c.title.toLowerCase().includes(s)||c.description.toLowerCase().includes(s));n.innerHTML="";for(const c of e)n.innerHTML+=p(c)};g.addEventListener("click",h);const f=()=>{const t=document.querySelectorAll(".js-add-products");for(const s of t)s.addEventListener("click",m)},L=t=>{let s="";return s+=`<div class="card_shoppingBag" data-id="${t.id}">`,s+=`<img src="${t.image}" class="card_img_shoppingBag" alt="Producto: ${t.title}">`,s+=`<h3 class="card__title_shoppingBag">${t.title}</h3>`,s+=`<p class="card__description_shoppingBag">${t.description}</p>`,s+=`<p class="card__price_shoppingBag">${t.price}</p>`,s+='<button class="delete_product_shoppingBag">X</button>',s+="</div>",s},m=t=>{const s=parseInt(t.target.dataset.id),e=r.find(d=>d.id===s),c=o.findIndex(d=>d.id===s);c===-1?o.push({id:e.id,image:e.image,title:e.title,description:e.description,price:e.price}):o.splice(c),l()},l=()=>{i.innerHTML="";for(const t of o)i.innerHTML+=L(t);o.length>0&&(i.innerHTML+='<button class="delete_allProducts_shoppingBag">Limpiar el carrito</button>')};n.addEventListener("click",t=>{t.target.classList.contains("js-add-products")&&(t.target.classList.toggle("_delete"),t.target.classList.contains("_delete")?t.target.textContent="Eliminar":t.target.textContent="Comprar")});i.addEventListener("click",t=>{if(t.target.classList.contains("delete_product_shoppingBag")){const s=t.target.closest(".card_shoppingBag"),e=parseInt(s.dataset.id);o=o.filter(c=>c.id!==e),l(),a()}else t.target.classList.contains("delete_allProducts_shoppingBag")&&(o=[],l(),a())});
//# sourceMappingURL=main.js.map
