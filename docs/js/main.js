console.log(">> Ready? Yes, Ready :)");let r=[],o=[];const u=()=>{fetch("https://fakestoreapi.com/products").then(t=>t.json()).then(t=>{console.log(t),r=t,d()})};document.querySelector(".products_list").classList.add("js-products");const i=document.querySelector(".js-products");document.querySelector(".shopping_bag_list").classList.add("js-shopping_bag");const n=document.querySelector(".js-shopping_bag"),p=t=>{let e="";return e+='<div class="card">',e+=`<img src="${t.image}" class="card_img" alt="Producto: ${t.title}">`,e+=`<h3 class="card__title">${t.title}</h3>`,e+=`<p class="card__price">${t.price} $</p>`,e+=`<button class="js-add-products" data-id="${t.id}">Comprar</button>`,e+="</div>",e},d=()=>{let t="";for(const e of r)t+=p(e);i.innerHTML=t,f()};u();const g=document.querySelector(".js_button-search"),_=document.querySelector(".js_in_search"),h=t=>{t.preventDefault();const e=_.value.toLowerCase(),s=r.filter(c=>c.title.toLowerCase().includes(e));i.innerHTML="";for(const c of s)i.innerHTML+=p(c)};g.addEventListener("click",h);const f=()=>{const t=document.querySelectorAll(".js-add-products");for(const e of t)e.addEventListener("click",L)},m=t=>{let e="";return e+=`<div class="card_shoppingBag" data-id="${t.id}">`,e+='<button class="delete_product_shoppingBag">X</button>',e+=`<img src="${t.image}" class="card_img_shoppingBag" alt="Producto: ${t.title}">`,e+=`<h3 class="card__title_shoppingBag">${t.title}</h3>`,e+=`<p class="card__price_shoppingBag">${t.price} $</p>`,e+="</div>",e},L=t=>{const e=parseInt(t.target.dataset.id),s=r.find(a=>a.id===e),c=o.findIndex(a=>a.id===e);c===-1?o.push({id:s.id,image:s.image,title:s.title,description:s.description,price:s.price}):o.splice(c),l()},l=()=>{n.innerHTML="";for(const t of o)n.innerHTML+=m(t);o.length>0&&(n.innerHTML+='<button class="delete_allProducts_shoppingBag">Limpiar el carrito</button>')};i.addEventListener("click",t=>{t.target.classList.contains("js-add-products")&&(t.target.classList.toggle("_delete"),t.target.classList.contains("_delete")?t.target.textContent="Eliminar":t.target.textContent="Comprar")});n.addEventListener("click",t=>{if(t.target.classList.contains("delete_product_shoppingBag")){const e=t.target.closest(".card_shoppingBag"),s=parseInt(e.dataset.id);o=o.filter(c=>c.id!==s),l(),d()}else t.target.classList.contains("delete_allProducts_shoppingBag")&&(o=[],l(),d())});
//# sourceMappingURL=main.js.map
